#include<stdio.h>
int main()
{
	int a[105][4], b[105][4] = { 0 }, c[105][4] = { 0 }, d[105][4] = { 0 }, e[105][4] = { 0 }, n, l, h, i, j, t, m = 0,y;
	scanf_s("%d %d %d", &n, &l, &h);
	for (i = 0; i<n; i++)
		for (j = 0; j<3; j++)
			scanf_s("%d", &a[i][j]);
	for (i = 0; i<n; i++)
		if (a[i][1] >= h && a[i][2] >= h)
		{
			b[i][0] = a[i][0];
			b[i][1] = a[i][1];
			b[i][2] = a[i][2];
			b[i][3] = a[i][1] + a[i][2];
			m++;
		}
	for (i = 0; i<n; i++)
		if (a[i][1] >= h && a[i][2] >= l && a[i][2]<h)
		{
			c[i][0] = a[i][0];
			c[i][1] = a[i][1];
			c[i][2] = a[i][2];
			c[i][3] = a[i][1] + a[i][2];
			m++;
		}
	for (i = 0; i<n; i++)
		if (a[i][1] >= a[i][2] && a[i][2] >= l && a[i][2]<h&&a[i][2] >= l && a[i][2]<h && !(a[i][1] >= h && a[i][2] >= l && a[i][2]<h))
		{
			d[i][0] = a[i][0];
			d[i][1] = a[i][1];
			d[i][2] = a[i][2];
			d[i][3] = a[i][1] + a[i][2];
			m++;
		}
	for (i = 0; i<n; i++)
		if (a[i][1] >= l && a[i][1]<h&&a[i][2]>a[i][1])
		{
			e[i][0] = a[i][0];
			e[i][1] = a[i][1];
			e[i][2] = a[i][2];
			e[i][3] = a[i][1] + a[i][2];
			m++;
		}
	for (j = 0; j<n - 1; j++)
		for (i = 0; i<n - 1 - j; i++)
			if (b[i][3]>b[i + 1][3])
			{
				t = b[i][0];
				b[i][0] = b[i + 1][0];
				b[i + 1][0] = t;
				t = b[i][1];
				b[i][1] = b[i + 1][1];
				b[i + 1][1] = t;
				t = b[i][2];
				b[i][2] = b[i + 1][2];
				b[i + 1][2] = t;
				
				
			}
	for (j = 0; j<n; j++)
		for (i = 0; i<n - 1 - j; i++)
			if (c[i][3]>c[i + 1][3])
			{
				t = c[i][0];
				c[i][0] = c[i + 1][0];
				c[i + 1][0] = t;
				t = c[i][1];
				c[i][1] = c[i + 1][1];
				c[i + 1][1] = t;
				t = c[i][2];
				c[i][2] = c[i + 1][2];
				c[i + 1][2] = t;
				
				
			}
	for (j = 0; j<n; j++)
		for (i = 0; i<n - 1 - j; i++)
			if (d[i][3]>d[i + 1][3])
			{
				t = d[i][0];
				d[i][0] = d[i + 1][0];
				d[i + 1][0] = t;
				t = d[i][1];
				d[i][1] = d[i + 1][1];
				d[i + 1][1] = t;
				t = d[i][2];
				d[i][2] = d[i + 1][2];
				d[i + 1][2] = t;
				
				
			}
	for (j = 0; j<n; j++)
		for (i = 0; i<n - 1 - j; i++)
			if (e[i][3]>e[i + 1][3])
			{
				t = e[i][0];
				e[i][0] = e[i + 1][0];
				e[i + 1][0] = t;
				t = e[i][1];
				e[i][1] = e[i + 1][1];
				e[i + 1][1] = t;
				t = e[i][2];
				e[i][2] = e[i + 1][2];
				e[i + 1][2] = t;
				
				
			}
	printf_s("%d\n", m);
	for (i = n - 1; i >= 0; i--)
	{
		for (j = 0; j<3; j++)
		{
			if (b[i][0] != 0)
			printf_s("%d ", b[i][j]);
		}
		if (b[i][0] != 0)
		printf_s("\n");
	}
	for (i = n - 1; i >= 0; i--)
	{
		for (j = 0; j<3; j++)
		{
			if (c[i][0] != 0)
			printf_s("%d ", c[i][j]);
		}
		if (c[i][0] != 0)
		printf_s("\n");
	}
	for (i = n - 1; i >= 0; i--)
	{
		for (j = 0; j<3; j++)
		{
			if (d[i][0] != 0)
			printf_s("%d ", d[i][j]);
		}
		if (d[i][0] != 0)
		printf_s("\n");
	}
	for (i = n-1; i>=0; i--)
	{
		for (j = 0; j<3; j++)
		{
			if(e[i][0]!=0)
			printf_s("%d ", e[i][j]);
		}
		if (e[i][0] != 0)
		printf_s("\n");
	}
	scanf_s("%d", &y);
	return 0;
}